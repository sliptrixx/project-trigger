"use strict";(self.webpackChunkproject_trigger=self.webpackChunkproject_trigger||[]).push([[399],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>u});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var c=n.createContext({}),s=function(e){var t=n.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=s(e.components);return n.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),h=s(a),u=r,m=h["".concat(c,".").concat(u)]||h[u]||d[u]||i;return a?n.createElement(m,o(o({ref:t},p),{},{components:a})):n.createElement(m,o({ref:t},p))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=h;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var s=2;s<i;s++)o[s]=a[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},478:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>s});var n=a(7462),r=(a(7294),a(3905));const i={sidebar_position:2},o="Tutorial: Projectiles",l={unversionedId:"Basic Tutorials/projectile",id:"Basic Tutorials/projectile",title:"Tutorial: Projectiles",description:"In this section we will learn how to build a simple script that represents a projectile that can be fired from a weapon.",source:"@site/docs/Basic Tutorials/2_projectile.md",sourceDirName:"Basic Tutorials",slug:"/Basic Tutorials/projectile",permalink:"/project-trigger/docs/Basic Tutorials/projectile",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Tutorial: Player Movement",permalink:"/project-trigger/docs/Basic Tutorials/player_movement"},next:{title:"Tutorial: Player Shoot",permalink:"/project-trigger/docs/Basic Tutorials/player_shoot"}},c={},s=[{value:"Getting Started",id:"getting-started",level:2},{value:"Projectile.cs",id:"projectilecs",level:2},{value:"Adding Movement",id:"adding-movement",level:3},{value:"Destroying the Projectile",id:"destroying-the-projectile",level:3},{value:"Putting it all together",id:"putting-it-all-together",level:3}],p={toc:s};function d(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"tutorial-projectiles"},"Tutorial: Projectiles"),(0,r.kt)("p",null,"In this section we will learn how to build a simple script that represents a projectile that can be fired from a weapon."),(0,r.kt)("h2",{id:"getting-started"},"Getting Started"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Create a new GameObject in the scene and name it ",(0,r.kt)("inlineCode",{parentName:"li"},"Projectile")),(0,r.kt)("li",{parentName:"ul"},"Add a SpriteRenderer component to the ",(0,r.kt)("inlineCode",{parentName:"li"},"Projectile")," GameObject",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},'Set the Sprite to the "laserBlue01"'))),(0,r.kt)("li",{parentName:"ul"},"Create a new C# script called ",(0,r.kt)("inlineCode",{parentName:"li"},"Projectile.cs")," and attach it to the ",(0,r.kt)("inlineCode",{parentName:"li"},"Projectile")," GameObject")),(0,r.kt)("h2",{id:"projectilecs"},"Projectile.cs"),(0,r.kt)("h3",{id:"adding-movement"},"Adding Movement"),(0,r.kt)("p",null,"To move the projectile, we can use the same concepts we learned in the previous tutorial. We can use the transform.position property and manipulate it to move the projectile in the direction it's facing."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"// move the projectile 1 unit forward every second\nvoid Update()\n{\n    transform.position += transform.up * Time.deltaTime;\n}\n")),(0,r.kt)("p",null,"We can also add a speed variable to the script to control how fast the projectile moves."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"[SerializeField] float Speed = 5f;\n\nvoid Update()\n{\n    transform.position += transform.up * Speed * Time.deltaTime;\n}\n")),(0,r.kt)("p",null,"Place the projectile in the scene and test it out. You should see the projectile move forward at a constant speed as defined by the speed variable in the inspector. You can also rotate the projectile object and notice that it continues to move in the direction it's facing. This is because the transform.up property represents the direction the object is facing."),(0,r.kt)("h3",{id:"destroying-the-projectile"},"Destroying the Projectile"),(0,r.kt)("p",null,"You may have noticed that the projectile continues to move even after it leaves the screen. Imagine if the player shot 100 projectiles as they played the game. This would quickly fill up the scene with projectiles that are no longer visible and have no effect on the gameplay. To fix this, we can destroy the projectile after it has travelled a certain distance."),(0,r.kt)("p",null,"To get started we need to track how far the projectile has travelled. We can do this by adding a ",(0,r.kt)("inlineCode",{parentName:"p"},"distanceTravelled")," variable to the script and increment it's value every frame. Since ",(0,r.kt)("inlineCode",{parentName:"p"},"transform.up")," is a normalized vector, it's distance would always be 1. We can use this information to calculate the distance the projectile has travelled in the world."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"float distanceTravelled = 0;\n\nvoid Update()\n{\n    distanceTravelled += Speed * Time.deltaTime;\n}\n")),(0,r.kt)("p",null,"Now after we have travelled a certain distance, we can destroy the projectile. We can do this by calling the ",(0,r.kt)("inlineCode",{parentName:"p"},"Destroy")," function. This function takes a Unity object and destroys it. In our case, we want to delete the entire Gameobject that represents the projectile. We can get a reference to the GameObject a Monobehaviour (also know as the script) is attached to by using the ",(0,r.kt)("inlineCode",{parentName:"p"},"gameObject")," property."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"if(distanceTravelled > 10)\n{\n    Destroy(gameObject);\n}\n")),(0,r.kt)("p",null,"In the above example, after travelling for 10 units, the projectile will be destroyed. You can test this by placing the projectile in the scene and running the game. You should see the projectile disappear after travelling 10 units. You can also change the speed variable in the inspector to see how it gets destroyed at the same point."),(0,r.kt)("p",null,"You can also further customize the projectile by adding a ",(0,r.kt)("inlineCode",{parentName:"p"},"MaxDistance")," variable to the script that represents how far the projectile can travel before it is destroyed. This way you can control the range of the projectile in the inspector."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"[SerialzeField] float MaxDistance = 10f;\n\n// in update\nif(distanceTravelled > MaxDistance)\n{\n    Destroy(gameObject);\n}\n")),(0,r.kt)("h3",{id:"putting-it-all-together"},"Putting it all together"),(0,r.kt)("p",null,"Here is the final version of the Projectile.cs script."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'using UnityEngine;\n\npublic class Projectile : MonoBehaviour\n{\n    [Tooltip("The speed at which the projectile travels")]\n    [SerializeField] float Speed = 5;\n\n    [Tooltip("The max distance it can travel, before the projectile gets destroyed")]\n    [SerializeField] float MaxDistance = 10;\n\n    // how much distance has the projectile travelled?\n    float distanceTravelled = 0;\n\n    private void Update()\n    {\n        // move it in the direction the object is looking at factored by speed\n        transform.position += transform.up * (Speed * Time.deltaTime);\n        \n        // increment the variable tracking the total distance travelled by the projectile,\n        // then check if it has travelled past the max distance\n        distanceTravelled += Speed * Time.deltaTime;\n        if(distanceTravelled >= MaxDistance)\n        {\n            // destroy the projectile if it has travelled more than the max distance\n            Destroy(gameObject);\n        }\n\n    }\n}\n')))}d.isMDXComponent=!0}}]);